___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "LiveSession",
  "categories": ["HEAT_MAP", "ANALYTICS", "SESSION_RECORDING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "LiveSession",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Add LiveSession tracking code much easier with Google Tag Manager template!",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "trackingId",
    "displayName": "TrackID",
    "simpleValueType": true,
    "notSetText": "Please provide a TrackID",
    "valueHint": "ex.abcde972.e1235cdf",
    "help": "Go to LiveSession Dashboard \u003e Settings \u003e Websites \u003e Tracking code. Copy code from TrackID label."
  },
  {
    "type": "TEXT",
    "name": "rootHostname",
    "displayName": "Root hostname (optional)",
    "simpleValueType": true,
    "help": "Set this to the highest-level hostname to record session across different subdomains on your site. (e.g. .your-domain.com)",
    "canBeEmptyString": true
  },
  {
    "type": "CHECKBOX",
    "name": "keystrokes",
    "checkboxText": "Record keystrokes (optional)",
    "simpleValueType": true,
    "help": "Enable global keystroke tracking."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const createArgumentsQueue = require('createArgumentsQueue');
const injectScript = require('injectScript');
const setInWindow = require('setInWindow');

const trackID = data.trackingId;
const hostname = data.rootHostname;
const keys = data.keystrokes;

let defaultOptions = {
  keystrokes: false,
  rootHostname: ''
};

if(keys) defaultOptions.keystrokes = true;
if(hostname !== '') defaultOptions.rootHostname = hostname;

const __ls = createArgumentsQueue('__ls', '__ls.store');
setInWindow('__ls.v', '1.0', false);
__ls('init', trackID);
__ls("newPageView"); 
__ls('setOptions', defaultOptions);

const url = 'https://cdn.livesession.io/track.js';
injectScript(url,data.gtmOnSuccess, data.gtmOnFailure, url);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__ls"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__ls.store"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__ls.v"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.livesession.io/track.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Init script
  code: |-
    const injectScript = require('injectScript');

    const mockData = {
      trackingId: '123'
    };

    mock('injectScript', function(url, onSuccess, onFailure) {
        assertThat(url).isEqualTo('https://cdn.livesession.io/track.js');
        onSuccess();
    });

    mock('createArgumentsQueue', function(name, namespace) {
        return function(eventName, key) {
          if(eventName === 'init'){
             assertThat(key).isEqualTo('123');
          }
          if(eventName === 'newPageView'){
             assertThat(key).isUndefined();
          }
        };
    });

    // Call runCode to run the template's code.
    runCode(mockData);
    assertApi('injectScript').wasCalled();
    assertApi('createArgumentsQueue').wasCalledWith('__ls', '__ls.store');

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 9.06.2020, 17:42:40


